2023-06-13 19:24:23.301 +03:00 [INF] User profile is available. Using 'C:\Users\buket\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-13 19:24:23.606 +03:00 [INF] Now listening on: http://localhost:5223
2023-06-13 19:24:23.611 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-13 19:24:23.613 +03:00 [INF] Hosting environment: Development
2023-06-13 19:24:23.614 +03:00 [INF] Content root path: C:\Users\buket\Documents\GitHub\UpSchool-TheBasics\UpStorage\src\WebApi
2023-06-13 19:24:24.845 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5223/swagger - -
2023-06-13 19:24:25.029 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5223/swagger - - - 301 0 - 187.8727ms
2023-06-13 19:24:25.045 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5223/swagger/index.html - -
2023-06-13 19:24:25.293 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5223/swagger/index.html - - - 200 - text/html;charset=utf-8 248.3556ms
2023-06-13 19:24:25.312 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5223/swagger/swagger-ui.css - -
2023-06-13 19:24:25.319 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5223/swagger/swagger-ui-bundle.js - -
2023-06-13 19:24:25.319 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5223/swagger/swagger-ui-standalone-preset.js - -
2023-06-13 19:24:25.881 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5223/_framework/aspnetcore-browser-refresh.js - -
2023-06-13 19:24:25.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5223/_vs/browserLink - -
2023-06-13 19:24:25.892 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5223/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 287.6593ms
2023-06-13 19:24:26.190 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5223/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 306.8516ms
2023-06-13 19:24:26.684 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-06-13 19:24:26.684 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-06-13 19:24:26.684 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-06-13 19:24:26.685 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5223/swagger/swagger-ui-standalone-preset.js - - - 200 339486 text/javascript 1366.4331ms
2023-06-13 19:24:26.687 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5223/swagger/swagger-ui-bundle.js - - - 200 1096145 text/javascript 1368.1328ms
2023-06-13 19:24:26.688 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5223/swagger/swagger-ui.css - - - 200 143943 text/css 1376.3363ms
2023-06-13 19:24:28.343 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5223/swagger/v1/swagger.json - -
2023-06-13 19:24:29.014 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5223/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 671.1267ms
2023-06-13 19:24:59.517 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5223/api/Authentication/Register application/json 106
2023-06-13 19:24:59.571 +03:00 [WRN] Failed to determine the https port for redirect.
2023-06-13 19:24:59.577 +03:00 [INF] CORS policy execution successful.
2023-06-13 19:25:02.905 +03:00 [INF] Executing endpoint 'WebApi.Controllers.AuthenticationController.RegisterAsync (WebApi)'
2023-06-13 19:25:02.937 +03:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(Application.Features.Auth.Commands.Register.AuthRegisterCommand) on controller WebApi.Controllers.AuthenticationController (WebApi).
2023-06-13 19:25:05.930 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Email` = @__email_0)
2023-06-13 19:25:06.258 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`CreatedByUserId`, `a`.`CreatedOn`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`ModifiedByUserId`, `a`.`ModifiedOn`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1
2023-06-13 19:25:06.319 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`CreatedByUserId`, `a`.`CreatedOn`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`ModifiedByUserId`, `a`.`ModifiedOn`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2023-06-13 19:25:06.596 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 191), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTimeOffset), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 50), @p8='?' (Size = 50), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 256), @p14='?' (Size = 256), @p15='?' (Size = 4000), @p16='?' (Size = 20), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `ConcurrencyStamp`, `CreatedByUserId`, `CreatedOn`, `Email`, `EmailConfirmed`, `FirstName`, `LastName`, `LockoutEnabled`, `LockoutEnd`, `ModifiedByUserId`, `ModifiedOn`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2023-06-13 19:25:07.327 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Register.AuthRegisterDto'.
2023-06-13 19:25:07.339 +03:00 [INF] Executed action WebApi.Controllers.AuthenticationController.RegisterAsync (WebApi) in 4392.9754ms
2023-06-13 19:25:07.342 +03:00 [INF] Executed endpoint 'WebApi.Controllers.AuthenticationController.RegisterAsync (WebApi)'
2023-06-13 19:25:07.354 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5223/api/Authentication/Register application/json 106 - 200 - application/json;+charset=utf-8 7836.8558ms
2023-06-13 19:25:45.657 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5223/api/Authentication/Login application/json 61
2023-06-13 19:25:45.663 +03:00 [INF] CORS policy execution successful.
2023-06-13 19:25:45.671 +03:00 [INF] Executing endpoint 'WebApi.Controllers.AuthenticationController.LoginAsync (WebApi)'
2023-06-13 19:25:45.679 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(Application.Features.Auth.Commands.Login.AuthLoginCommand) on controller WebApi.Controllers.AuthenticationController (WebApi).
2023-06-13 19:25:45.830 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Email` = @__email_0)
2023-06-13 19:25:45.880 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`CreatedByUserId`, `a`.`CreatedOn`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`ModifiedByUserId`, `a`.`ModifiedOn`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2023-06-13 19:25:46.257 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (Size = 191)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2023-06-13 19:25:46.346 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 191)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2023-06-13 19:25:46.534 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-06-13 19:25:46.541 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.AuthLoginDto'.
2023-06-13 19:25:46.654 +03:00 [INF] Executed action WebApi.Controllers.AuthenticationController.LoginAsync (WebApi) in 972.0794ms
2023-06-13 19:25:46.656 +03:00 [INF] Executed endpoint 'WebApi.Controllers.AuthenticationController.LoginAsync (WebApi)'
2023-06-13 19:25:46.658 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5223/api/Authentication/Login application/json 61 - 200 - application/json;+charset=utf-8 1001.7217ms
